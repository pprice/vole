// WIP: Match patterns requiring unimplemented features
// Requires: raw strings (@"..."), guard patterns (_ if condition)

tests "raw string literal patterns" {
    test "match raw string with backslashes" {
        let path = @"C:\Windows\System32"
        let result = match path {
            @"C:\Windows\System32" => "system"
            @"C:\Users\Public" => "public"
            _ => "other"
        }
        assert(result == "system")
    }

    test "match raw string with newlines" {
        let text = @"line1\nline2"
        let result = match text {
            @"line1\nline2" => "match"
            _ => "no match"
        }
        assert(result == "match")
    }

    test "raw string fallback" {
        let path = @"D:\Other"
        let result = match path {
            @"C:\Windows" => "windows"
            @"C:\Program Files" => "programs"
            _ => "unknown"
        }
        assert(result == "unknown")
    }

    test "mix regular and raw strings" {
        let s = "test"
        let result = match s {
            @"raw" => "raw match"
            "test" => "regular match"
            _ => "no match"
        }
        assert(result == "regular match")
    }
}

tests "guard patterns" {
    test "literals with guards" {
        let x = 5
        let result = match x {
            1 => "one"
            _ if x > 10 => "big"
            5 => "five"
            _ => "other"
        }
        assert(result == "five")
    }

    test "guard takes precedence over literal" {
        let x = 15
        let result = match x {
            1 => "one"
            _ if x > 10 => "big"
            15 => "fifteen"
            _ => "other"
        }
        assert(result == "big")
    }
}
