class Point {
    x: i32,
    y: i32,
}

tests "compound assignment" {
    test "add assign" {
        let mut x = 10
        x += 5
        assert(x == 15)
    }

    test "sub assign" {
        let mut x = 10
        x -= 3
        assert(x == 7)
    }

    test "mul assign" {
        let mut x = 4
        x *= 3
        assert(x == 12)
    }

    test "div assign" {
        let mut x = 20
        x /= 4
        assert(x == 5)
    }

    test "mod assign" {
        let mut x = 17
        x %= 5
        assert(x == 2)
    }

    test "float add assign" {
        let mut f = 3.5
        f += 1.5
        assert(f == 5.0)
    }

    test "string concat assign" {
        let mut s = "hello"
        s += " world"
        assert(s == "hello world")
    }

    test "field access" {
        let p = Point { x: 10, y: 20 }
        p.x += 5
        assert(p.x == 15)
    }

    test "array index" {
        let mut arr = [1, 2, 3]
        arr[0] += 10
        assert(arr[0] == 11)
    }

    test "chained" {
        let mut x = 5
        x += 3
        x *= 2
        x -= 4
        assert(x == 12)
    }
}
