// WIP Function tests - require type inference for top-level functions
// Tracked by: (needs bead for type inference)

// These top-level functions don't have explicit parameter types,
// which requires type inference support that isn't implemented yet.

func add(a, b) {
    return a + b
}

func five() {
    return 5
}

func double(x) {
    x * 2
}

func factorial(n) {
    if n <= 1 { return 1 }
    return n * factorial(n - 1)
}

func fib(n) {
    if n <= 1 { return n }
    return fib(n - 1) + fib(n - 2)
}

tests "functions with inferred types" {
    test "simple function" {
        assert(add(2, 3) == 5)
    }

    test "no args" {
        assert(five() == 5)
    }

    test "implicit return" {
        assert(double(21) == 42)
    }

    test "recursion" {
        assert(factorial(5) == 120)
    }

    test "fibonacci" {
        assert(fib(10) == 55)
    }
}
