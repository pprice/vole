// Tests for relative import support

// Import sibling module
let utils = import "./utils"

// Import from subdirectory
let nested = import "./sub/nested"

tests {
    test "import sibling module constant" {
        assert(utils.VERSION == 42)
    }

    test "import sibling module function" {
        assert(utils.add(2, 3) == 5)
        assert(utils.multiply(4, 5) == 20)
    }

    test "import nested module constant" {
        assert(nested.NESTED_VALUE == 100)
    }

    test "import nested module function" {
        assert(nested.square(7) == 49)
    }

    test "chain imported functions" {
        // utils.add(nested.square(3), utils.multiply(2, 5)) = 9 + 10 = 19
        let result = utils.add(nested.square(3), utils.multiply(2, 5))
        assert(result == 19)
    }
}
