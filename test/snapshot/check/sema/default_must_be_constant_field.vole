// Error: field default must be a constant expression

func get_value() -> i32 {
    return 42_i32
}

// Error: mutable variable reference is not a constant expression
let mut mutable_global = 100

// Error: function call is not constant, mutable variable reference is not constant
record BadConfig {
    a: i32 = get_value(),     // Error: function call
    b: i32 = mutable_global,  // Error: mutable variable reference
}

// Valid: immutable global with constant initializer IS a constant expression
let immutable_global = 42

record ConfigWithGlobal {
    value: i32 = immutable_global,      // Valid: immutable constant global
    doubled: i32 = immutable_global * 2, // Valid: expression using constant global
}

// Valid: all constant expressions
record GoodConfig {
    count: i32 = 10,
    enabled: bool = true,
    name: string = "default",
    values: [i64] = [1, 2, 3],
    computed: i64 = 3 * 4 + 5,
    negative: i32 = -42,
}
