# Fallible-heavy profile â€” stress fallible functions, try/raise patterns, error handling.
#
# Generates code emphasizing:
# - Many error types per module (2-4) to provide diverse error payloads
# - High fallible function probability (~60% of non-generic functions)
# - Frequent raise statements inside fallible function bodies
# - Frequent try expressions calling other fallible functions
# - Early returns with raise for guard-style error handling
# - No generics (maximizes proportion of functions that become fallible)
#
# Target: stress fallible return type planning, raise/try emission,
# error type field construction, and match-on-fallible unwrapping.

[plan]
layers = 2
structs_per_module = [1, 2]
classes_per_module = [2, 3]
interfaces_per_module = [1, 2]
errors_per_module = [2, 4]
functions_per_module = [5, 8]
fields_per_class = [2, 4]
methods_per_class = [2, 3]
static_methods_per_class = [0, 1]
static_methods_per_struct = [0, 1]
methods_per_interface = [1, 3]
fields_per_error = [2, 4]
type_params_per_class = [0, 0]
type_params_per_interface = [0, 0]
type_params_per_function = [0, 0]
constraints_per_type_param = [0, 0]
interface_extends_probability = 0.3
fallible_probability = 0.6
generator_probability = 0.0
never_probability = 0.03
nested_class_field_probability = 0.15
struct_param_probability = 0.08
struct_return_probability = 0.08
interface_param_probability = 0.08
generic_closure_interface_fn_probability = 0.0
closure_return_probability = 0.0
sentinels_per_module = [0, 2]

[emit]
expr_body_probability = 0.15

[emit.stmt_config]
if_probability = 0.25
while_probability = 0.1
for_probability = 0.15
break_continue_probability = 0.08
compound_assign_probability = 0.1
reassign_probability = 0.1
raise_probability = 0.3
try_probability = 0.35
tuple_probability = 0.1
fixed_array_probability = 0.08
struct_destructure_probability = 0.1
class_destructure_probability = 0.08
discard_probability = 0.08
early_return_probability = 0.2
static_call_probability = 0.2
array_index_assign_probability = 0.08
array_push_probability = 0.05
array_index_compound_assign_probability = 0.08
mutable_array_probability = 0.3
method_call_probability = 0.1
interface_dispatch_probability = 0.08
when_let_probability = 0.06
nested_loop_probability = 0.04
union_match_probability = 0.08
iter_map_filter_probability = 0.08
iface_function_call_probability = 0.08
generic_closure_interface_probability = 0.0
empty_array_iter_probability = 0.04
match_closure_arm_probability = 0.06
range_iter_probability = 0.04
field_closure_let_probability = 0.04
sentinel_union_probability = 0.1
optional_destructure_match_probability = 0.0
sentinel_closure_capture_probability = 0.0
closure_struct_capture_probability = 0.0
nested_closure_capture_probability = 0.0
string_interpolation_probability = 0.08
match_on_method_result_probability = 0.0
iter_method_map_probability = 0.0
string_split_probability = 0.0
string_method_probability = 0.0
iter_predicate_probability = 0.0
iter_chunks_windows_probability = 0.0

[emit.stmt_config.expr_config]
max_depth = 3
binary_probability = 0.35
when_probability = 0.12
match_probability = 0.1
if_expr_probability = 0.15
lambda_probability = 0.1
method_chain_probability = 0.15
max_match_arms = 5
inline_expr_arg_probability = 0.1
tuple_index_probability = 0.1
chained_coalesce_probability = 0.25
string_method_probability = 0.1
multi_arm_when_probability = 0.25
match_guard_probability = 0.1
closure_capture_probability = 0.2
interface_upcast_probability = 0.25
